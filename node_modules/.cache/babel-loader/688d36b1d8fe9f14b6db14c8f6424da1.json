{"ast":null,"code":"import _classCallCheck from \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Tulika\\\\ReactProjects\\\\MyNeighborhood_gh_pages\\\\src\\\\components\\\\Map.js\";\n\n/* global google */\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nimport React, { PureComponent } from 'react';\nimport ErrorPage from './ErrorPage';\nimport MyInfoWindow from './MyInfoWindow';\nvar MyMapComponent = withScriptjs(withGoogleMap(function (props) {\n  return React.createElement(GoogleMap, {\n    defaultZoom: 8,\n    defaultCenter: {\n      lat: 39.64777,\n      lng: -104.98776\n    },\n    center: {\n      lat: parseFloat(props.center.lat),\n      lng: parseFloat(props.center.lng)\n    },\n    zoom: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, props.markers && props.markers.filter(function (marker) {\n    return marker.isVisible;\n  }).map(function (marker, index, arr) {\n    //venueInfo of the open marker for InfoWindow\n    var venueInfo = props.venues.find(function (venue) {\n      return venue.id === marker.id;\n    });\n    return React.createElement(Marker, {\n      key: index,\n      position: {\n        lat: marker.lat,\n        lng: marker.lng\n      },\n      onClick: function onClick() {\n        return props.handleMarkerClick(marker);\n      },\n      animation: arr.length === 1 || marker.isOpen ? google.maps.Animation.BOUNCE : google.maps.Animation.DROP,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, marker.isOpen && React.createElement(MyInfoWindow, {\n      venueInfo: venueInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }));\n  }));\n}));\n\nvar Map =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Map, _PureComponent);\n\n  function Map(props) {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this, props));\n    _this.state = {\n      mapAuthError: false,\n      mapErrorMsg: ''\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.gm_authFailure = function () {\n        _this2.setState({\n          mapAuthError: true,\n          mapErrorMsg: 'Google Map Authentication Error'\n        });\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.mapAuthError) return React.createElement(ErrorPage, {\n        errorMessage: this.state.mapErrorMsg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      });else {\n        return React.createElement(MyMapComponent, Object.assign({}, this.props, {\n          googleMapURL: \"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCA4UWmWvNr4swg9eRsgqCDPcv4PDi_v0w\",\n          loadingElement: React.createElement(\"div\", {\n            style: {\n              height: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }),\n          containerElement: React.createElement(\"div\", {\n            style: {\n              height: \"80vh\",\n              width: \"75vw\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }),\n          mapElement: React.createElement(\"div\", {\n            style: {\n              height: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return Map;\n}(PureComponent);\n\nexport { Map as default };","map":{"version":3,"sources":["D:\\Tulika\\ReactProjects\\MyNeighborhood_gh_pages\\src\\components\\Map.js"],"names":["withScriptjs","withGoogleMap","GoogleMap","Marker","React","PureComponent","ErrorPage","MyInfoWindow","MyMapComponent","props","lat","lng","parseFloat","center","markers","filter","marker","isVisible","map","index","arr","venueInfo","venues","find","venue","id","handleMarkerClick","length","isOpen","google","maps","Animation","BOUNCE","DROP","Map","state","mapAuthError","mapErrorMsg","window","gm_authFailure","setState","height","width"],"mappings":"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","sourcesContent":["/* global google */\r\n\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\nimport React, { PureComponent } from 'react';\r\n\r\nimport ErrorPage from './ErrorPage';\r\nimport MyInfoWindow from './MyInfoWindow';\r\n\r\nconst MyMapComponent = withScriptjs(\r\n  withGoogleMap((props) => (\r\n\r\n  <GoogleMap\r\n    defaultZoom={8}\r\n    defaultCenter={{ lat: 39.64777, lng: -104.98776 }}\r\n    center={{\r\n        lat: parseFloat(props.center.lat),\r\n        lng: parseFloat(props.center.lng)\r\n      }}\r\n    zoom={12}\r\n  >\r\n    { props.markers &&\r\n      props.markers\r\n        .filter(marker => marker.isVisible)\r\n        .map((marker, index, arr) => {\r\n          //venueInfo of the open marker for InfoWindow\r\n          const venueInfo = props.venues.find(\r\n            venue => venue.id === marker.id\r\n          );\r\n          return (\r\n            <Marker\r\n                key={index}\r\n                position={{ lat: marker.lat, lng: marker.lng }}\r\n                onClick={() => props.handleMarkerClick(marker)}\r\n                animation={\r\n                  (arr.length === 1 || marker.isOpen)\r\n                    ? google.maps.Animation.BOUNCE\r\n                    : google.maps.Animation.DROP\r\n                }\r\n              >\r\n              {marker.isOpen && (\r\n                <MyInfoWindow venueInfo={venueInfo} />\r\n              )\r\n              }\r\n            </Marker>\r\n          )\r\n      })\r\n    }\r\n  </GoogleMap>\r\n\r\n)));\r\n\r\nexport default class Map extends PureComponent {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      mapAuthError: false,\r\n      mapErrorMsg: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n      window.gm_authFailure = () => {\r\n        this.setState({mapAuthError: true, mapErrorMsg: 'Google Map Authentication Error'});\r\n    };\r\n  }\r\n\r\n  render(){\r\n    if(this.state.mapAuthError)\r\n      return(<ErrorPage errorMessage={this.state.mapErrorMsg}/>)\r\n    else{\r\n\r\n    return(\r\n      <MyMapComponent      \r\n        {...this.props}\r\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCA4UWmWvNr4swg9eRsgqCDPcv4PDi_v0w\"\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `80vh`, width: `75vw` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n      />\r\n    );\r\n  }\r\n}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}